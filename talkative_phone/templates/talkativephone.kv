#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import MDToolbar kivymd.uix.toolbar.MDToolbar
#:import MDNavigationDrawer kivymd.uix.navigationdrawer.MDNavigationDrawer
#:import NavigationDrawerSubheader kivymd.uix.navigationdrawer.NavigationDrawerSubheader

<MyNavigationDrawerIconButton@NavigationDrawerIconButton>
    icon: 'checkbox-blank-circle'
    use_active: False
    on_release: app.show_screen(root.screen)

<ContentNavigationDrawer@MDNavigationDrawer>
    drawer_logo: 'icon.png'

    NavigationDrawerSubheader:
        text: "Menu:"

    MyNavigationDrawerIconButton:
        id: create_group
        screen: "contacts"
        text: "Создать группу"

    MyNavigationDrawerIconButton:
        id: connect_widget
        screen: "connect"
        text: "Соединение"

    MyNavigationDrawerIconButton:
        screen: "Theming"
        text: "Выбор темы оформления"

    MyNavigationDrawerIconButton:
        text: "Выход"
        on_release: app.stop()

NavigationLayout:
    id: nav_layout

    ContentNavigationDrawer:
        id: nav_drawer

    BoxLayout:
        id: box_for_manager
        orientation: 'vertical'

        MDToolbar:
            id: toolbar
            title: app.title
            md_bg_color: app.theme_cls.primary_color
            background_palette: 'Primary'
            background_hue: '500'
            elevation: 10
            left_action_items: [['menu', lambda x: app.root.toggle_nav_drawer()]]

        ScreenManager:
            id: scr_mngr
            transition: NoTransition()
